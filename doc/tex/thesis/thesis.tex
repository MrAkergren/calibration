\documentclass[a4paper, 11pt]{article}

%%--LANGUAGE AND ENCODING--%%
\usepackage[swedish]{babel}
\usepackage[english,cleanlook]{isodate}%
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{csquotes}
\usepackage{pdfpages}
\usepackage[yyyymmdd]{datetime}
\renewcommand{\dateseparator}{--}

\usepackage{xfrac}
\usepackage{lscape}
%%--BIBLOPGRAPHY--%%
\usepackage[backend=biber, natbib=true, urldate=iso8601, maxnames=2, minnames=1, maxbibnames=10, minbibnames=6, citestyle=numeric-comp, sorting=none, firstinits=true]{biblatex}

%%--SPACING AND MARGIN--%
\usepackage[textwidth=140mm]{geometry}
%\usepackage[margin=3.5cm, top=2.5cm]{geometry}
\setlength{\parindent}{0mm}


%%--SANS-SERIF FONTS FOR SECTIONS--%%
\usepackage{microtype}
\usepackage{sectsty}
\usepackage{helvet}
\allsectionsfont{\bfseries\sffamily}

%%Links within the doc%%
\usepackage[hidelinks]{hyperref}

%%--GRAPHICS--%%  (Requires preamble)
\usepackage{floatrow}
\newfloatcommand{capbtabbox}{table}[][\FBwidth]

\usepackage{tikz}
\usetikzlibrary{backgrounds,calc,positioning,shapes,arrows,patterns}


% % Declaration of different types of figures for use in flow charts
\tikzstyle{startstop} = [rectangle, rounded corners, minimum width=3cm, minimum height=1cm,text centered, draw=black, fill=red!30]
\tikzstyle{io} = [trapezium, trapezium left angle=70, trapezium right angle=110, minimum width=2cm, minimum height=1cm, text centered, draw=black, fill=blue!30]
\tikzstyle{process} = [rectangle, minimum width=3cm, minimum height=1cm, text centered, draw=black, fill=orange!30]
\tikzstyle{decision} = [diamond, minimum width=3cm, minimum height=1cm, text centered, draw=black, fill=green!30]
\tikzstyle{arrow} = [draw, thick,-latex',>=stealth]


% For use in method figure
\tikzset{
    vertex/.style = {
        circle,
        fill            = black,
        outer sep = 2pt,
        inner sep = 1pt,
    }
}
\tikzset{My Arrow Style/.style={single arrow, fill=blue!50, anchor=base, align=center,text width=11mm,text height=1mm}}
\definecolor{light-gray}{gray}{0.95}

% For use in flow charts
\tikzstyle{startstop} = [rectangle, rounded corners, minimum width=3cm, minimum height=1cm,text centered, draw=black, fill=red!30]
\tikzstyle{input} = [trapezium, trapezium left angle=70, trapezium right angle=110, minimum width=2cm, minimum height=1cm, text centered, draw=black, fill=blue!30]
\tikzstyle{action} = [rectangle, minimum width=3cm, minimum height=1cm, text centered, draw=black, fill=orange!30]
\tikzstyle{decision} = [diamond, minimum width=3cm, minimum height=1cm, text centered, draw=black, fill=green!30]
\tikzstyle{arrow} = [draw, thick,-latex',>=stealth]

\usepackage{colortbl}
\usepackage{pgfplots}
\usepackage{pgfplotstable}
\pgfplotsset{compat=1.8}
\pgfplotstableset{
    every head row/.style={ 
        output empty row,
    },
    /color cells/min/.initial=0,
    /color cells/max/.initial=1000,
    /color cells/textcolor/.initial=,
    %
    % Usage: 'color cells={min=<value which is mapped to lowest color>, 
    %   max = <value which is mapped to largest>}
    color cells/.code={%
        \pgfqkeys{/color cells}{#1}%
        \pgfkeysalso{%
            postproc cell content/.code={%
                %
                \begingroup
                %
                % acquire the value before any number printer changed
                % it:
                \pgfkeysgetvalue{/pgfplots/table/@preprocessed cell content}\value
                \ifx\value\empty
                    \endgroup
                \else
                \pgfmathfloatparsenumber{\value}%
                \pgfmathfloattofixed{\pgfmathresult}%
                \let\value=\pgfmathresult
                %
                % map that value:
                \pgfplotscolormapaccess
                    [\pgfkeysvalueof{/color cells/min}:\pgfkeysvalueof{/color cells/max}]
                    {\value}
                    {\pgfkeysvalueof{/pgfplots/colormap name}}%
                % now, \pgfmathresult contains {<R>,<G>,<B>}
                % 
                % acquire the value AFTER any preprocessor or
                % typesetter (like number printer) worked on it:
                \pgfkeysgetvalue{/pgfplots/table/@cell content}\typesetvalue
                \pgfkeysgetvalue{/color cells/textcolor}\textcolorvalue
                %
                % tex-expansion control
                % see http://tex.stackexchange.com/questions/12668/where-do-i-start-latex-programming/27589#27589
                \toks0=\expandafter{\typesetvalue}%
                \xdef\temp{%
                    \noexpand\pgfkeysalso{%
                        @cell content={%
                            \noexpand\cellcolor[rgb]{\pgfmathresult}%
                            \noexpand\definecolor{mapped color}{rgb}{\pgfmathresult}%
                            \ifx\textcolorvalue\empty
                            \else
                                \noexpand\color{\textcolorvalue}%
                            \fi
                            \the\toks0 %
                        }%
                    }%
                }%
                \endgroup
                \temp
                \fi
            }%
        }%
    }
}

\usepackage{graphicx}
\usepackage{caption}
\usepackage[justification=centering]{caption}
\usepackage{subcaption}
\usepackage{threeparttable}
\usepackage{mathrsfs}
\makeatletter 
\g@addto@macro\TPT@defaults{\footnotesize} 
\makeatother
%%--ADVANCE TABULARS--%%
\usepackage{tabularx}
\usepackage{booktabs}
\def\arraystretch{1.3}

%PREAMBLE%
%%-SECTION NUMMBERING DEPTH-%%
%\setcounter{secnumdepth}{3} %3=Default

\hyphenation{över-förings-hastig-heten pa-nel-en instruktion-er sol-panel-en fatt-ades anse nu-varande av-sedda fungera-nde  kommunikations-stand-ard-er version-er mot-svarande enkorts-dator enhet-ens exempel-vis operativ-system doku-ment-ation platt-forms-oberoende system-utvecklings-metoden} 

%%-GRAPHICS-%%
\DeclareGraphicsExtensions{.pdf,.png,.jpg}

%%-BIBLIOGRAPHY-%%
%Adds references library and formats it.
% To  refere to a reference in the library use  \cite{} for ieee
\addbibresource{ref.bib} \setlength{\bibitemsep}{\baselineskip} 
%Always shows the authors in bibliography as Lastname, Firstname
%\DeclareNameAlias{sortname}{last-first} 

%%-DOCUMENT INFORMATION-%%
%Header/Footer%
\author{Svedberg, Pär\\ \texttt{svpar@student.chalmers.se}  \\ 
            19821112--7652 \and
            Åkergren, Oskar\\ \texttt{akergren@student.chalmers.se}  \\ 19880508--7114
}
\title{\underline{UTKAST} \\ Kalibrering av ljussensor \\ för Parans solpanel \vspace{1cm}}

\date{\vspace{8cm}\today}

\begin{document}
\includepdf[pages={1}]{res/img/UTKAST_forsatsblad.pdf}
\clearpage\thispagestyle{empty}\mbox{}\clearpage
\maketitle
\begin{center}
    Version 0.2    
\end{center}

\thispagestyle{empty}

\newpage
\setcounter{page}{1}
\pagenumbering{roman}

\input{preface}

\newpage
\tableofcontents
\listoffigures
\listoftables

\newpage

\setcounter{page}{1}
\pagenumbering{arabic}

\input{introduktion}
\include{metod}
\include{teknisk_bakgrund}
\include{genomforande}
\include{resultat}
\include{slutsats}
% \include{diskussion}
% \include{sammanfattning}

\newpage
\addcontentsline{toc}{section}{Referenser}
\printbibliography


\newpage

\setcounter{page}{1}
\pagenumbering{Roman}
\appendix
\section*{Bilagor} % (fold)
\label{sec:bilagor}
\addcontentsline{toc}{section}{Bilagor}
\input{res/appendix/algoritm_simulering}
\include{res/appendix/algoritm_flowchart}
\include{res/appendix/UML}
\include{res/appendix/specs}
\include{res/appendix/heatmap}
\end{document}
